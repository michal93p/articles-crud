# Article Filament CRUD
The project is a simple CRUD for articles. It is based on Filament and Laravel.

## Project Assumptions
- All tables have migrations, seeds, and factories. Once executed, the database is ready.
- All elements visible to the user use translations. Polish language support was added to the project using `laravel-lang`, and all user-visible elements have been translated into Polish.
- Text fields are stripped of HTML tags if HTML is not needed. This provides an additional level of protection against XSS.
- Fields that require HTML tags use `RichEditorTag`. It is an enum that allows selecting tags that should not be stripped from the field. It also provides methods to retrieve the list of allowed formatting elements for the RichEditor. By using a constant defined in one place, it is possible to set these two things in one location.
- Constants are used wherever justified in the project to prevent errors and duplication. The exception is classes generated by Laravel.

### Articles 
Only the author of an article can edit and delete their own articles. This is enforced through ArticlePolicy.
An article has the following fields:
- Title: the field is stripped of HTML.
- Content: the field allows certain HTML tags. Which tags are allowed is defined in a constant in UpsertArticleRequest.
- Publication Date: a date field used to indicate if the article is published. A null value means the article is published from the date it was added.
- Author: the ID of the user who added the article. This is added through a model event, ensuring it is added before creation, regardless of where the model is used.

### Filament
Any user can log in to the Filament panel. This is usually not desired behavior. If you don't want this, refer to the information here: https://filamentphp.com/docs/3.x/panels/installation#allowing-users-to-access-a-panel

## Run
To run the project locally, you can use a tool like XAMPP or LAMP. Additionally, the project requires Composer and GIT. The project was developed using PHP 8.2.

1. Clone the project using GIT: `git clone https://github.com/michal93p/articles-crud.git`.
2. Install dependencies via Composer (you may encounter an error, solution below): `composer install`
3. Copy `.env.example` and create a new `.env` file based on it.
4. Add a new database. The simplest solution is to use phpMyAdmin. Go to http://localhost/phpmyadmin in your browser and add a new database.
5. Fill in the `.env` file.
6. Run the migration and seeders: `php artisan migrate`, then: `php artisan db:seed`.
7. Run the project using `php artisan serve`.

The admin panel is available at: `/admin`. You can find login details in the `UserSeeder.php` file.

### Known Issues and Solutions
During dependency installation, you may encounter an error related to the `zip` extension required by `openspout`. This is mentioned because this extension is disabled by default in XAMPP. The simplest solution is to enable it by:
1. Open the `php.ini` file, which is located in `C:\xampp\php` by default.
2. Find the line: `;extension=zip` and change it to `extension=zip`.
3. Save file.
